<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <title>User List</title>

    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
    crossorigin="anonymous"
  />
  <link
    rel="icon"
    type="image/png"
    href="{{ url_for('static', filename='profile_picture/Pepsi-logo.png') }}"
  />
</head>
<body>
      <!---------------------------------------------------------------------------->

      <header
      class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom m-2 p-5 bg-primary-subtle rounded-4"
    >
      <div class="col-md-3 mb-md-0 mb-md-0">
        <a
          href="/"
          class="d-inline-flex link-body-emphasis text-decoration-none"
        >
          <img
            src="{{ url_for('static', filename='images/SponsorIN_Logo_White.png') }}"
            alt="SponsorIn_Logo"
            style="width: 300px; height: 120px"
          />
        </a>
      </div>
      <div class="col-sm-3 text-center">
        <h2 class="fw-bold">Athlete User List</h2>

      </div>
      <div class="col-md-3 text-end">
        <a
          href="{{ url_for('company_dashboard') }}"
          class="btn btn-outline-secondary"
          >Back to Dashboard</a
        >
      </div>
    </header>
    <!---------------------------------------------------------------------------->

  

    <div class="container">
        <form
          method="POST"
          action="{{ url_for('user_list_page') }}"
          class="row g-3 "
        >
          <div class="col-md-5">
            <input
              type="text"
              class="form-control"
              name="search"
              placeholder="Search by Athlete..."
            />
          </div>
          <div class="col-md-2">
            <select name="gender_filter" class="form-select">
              <option value="">All Genders</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div class="col-md-2">

            <select name="verification_filter" class="form-select">
                <option value="">All Verification Status</option>
                <option value="Verified">Verified</option>
                <option value="Not Verified">Not Verified</option>
            </select>
        </div>
        
          <div class="col-md-1">
            <input type="submit" value="Search" class="form-control" />
          </div>
        </form>
      </div>
  
      <!---------------------------------------------------------------------------->
  
      <div class="container my-4 rounded-3 ">
        <table class="table table-striped-columns border border-warning-subtle" border="1">
          <thead>
        <tr>
            <th scope="col">Profile Picture</th>
            <th scope="col">User ID</th>
            <th scope="col">Username</th>
            <th scope="col">Gender</th>
            <th scope="col">Verified</th>
            <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody
        {% for user in users %}
            <tr>
                <td>
                    {% if user.profile and user.profile.profilepicture %}
                        <img src="{{ url_for('static', filename=user.profile.profilepicture) }}" alt="Profile Picture" width="30">
                    {% else %}
                        <img src="{{ url_for('static', filename='profile_picture/defualtpicture.png') }}" alt="Default Profile Picture" width="30">
                    {% endif %}
                </td>
                <td>{{ user.userid }}</td>
                <td>{{ user.username }}</td>
                <td>{{ user.profile.athlete_profile.gender if user.profile and user.profile.athlete_profile else 'N/A' }}</td>
                <td>{{ 'Yes' if user.profile and user.profile.verifiedstatus else 'No' }}</td>
               <td>
    <a href="{{ url_for('edit_user', user_id=user.userid) }}">Edit</a> |
    <a href="{{ url_for('delete_user', user_id=user.userid) }}" onclick="return confirm('Are you sure you want to delete this user?');">Delete</a> |
   <a href="{{ url_for('send_message', receiver_id=user.userid, admin_id=current_user.userid) }}">Message</a>

</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</body>
</html>