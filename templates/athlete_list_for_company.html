<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Athlete User List for Companies</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="icon"
      type="image/png"
      href="{{ url_for('static', filename='profile_picture/Pepsi-logo.png') }}"
    />

    <style>
      .card-page {
        height: 900px;
        margin: 20px;
        padding: 10px;
        background-color: royalblue;
        border-radius: 10px;
        box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
      }

      #loader {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
      }

      .card-actions {
        margin-top: 10px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <!---------------------------------------------------------------------------->

    <header
      class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom m-2 p-5 bg-primary-subtle rounded-4"
    >
      <div class="col-md-3 mb-md-0 mb-md-0">
        <a
          href="/"
          class="d-inline-flex link-body-emphasis text-decoration-none"
        >
          <img
            src="{{ url_for('static', filename='images/SponsorIN_Logo_White.png') }}"
            alt="SponsorIn_Logo"
            style="width: 300px; height: 120px"
          />
        </a>
      </div>
      <div class="col-sm-3 text-center">
        <h2 class="fw-bold">Athlete User List</h2>
      </div>
      <div class="col-md-3 text-end">
        <a
          href="{{ url_for('company_dashboard') }}"
          class="btn btn-outline-secondary"
          >Back to Dashboard</a
        >
      </div>
    </header>
    <!---------------------------------------------------------------------------->

    <div class="container">
      <form
        method="POST"
        action="{{ url_for('view_athletes') }}"
        class="row g-3 needs-validation"
      >
        <div class="col-md-5">
          <input
            type="text"
            class="form-control"
            name="search"
            placeholder="Search by Full Name..."
          />
        </div>
        <div class="col-md-2">
          <select name="gender_filter" class="form-select">
            <option value="">All Genders</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="col-md-2">
          <select name="college" class="form-select">
            <option value="">All Colleges</option>
            {% for college in colleges %}
            <option value="{{ college.collegeid }}">
              {{ college.collegename }}
            </option>
            {% endfor %}
          </select>
        </div>
        <div class="col-md-2">
          <select name="sportscategory" class="form-select">
            <option value="">All Sports</option>
            {% for sport in sports_categories %}
            <option value="{{ sport }}">{{ sport }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="col-md-1">
          <input type="submit" value="Enter" class="form-control" />
        </div>
      </form>
    </div>

    <!---------------------------------------------------------------------------->

    <div class="container my-4 rounded-3 ">
      <table class="table table-striped-columns border border-warning-subtle" border="1">
        <thead>
          <tr>
            <th scope="col">Profile Picture</th>
            <th scope="col">Full Name</th>
            <th scope="col">Gender</th>
            <th scope="col">College</th>
            <th scope="col">Sports Catergory</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %} {% if user.profile and user.profile.verifiedstatus
          %}
          <tr>
            <td>
              {% if user.profile.profilepicture %}
              <img
                src="{{ url_for('static', filename=user.profile.profilepicture) }}"
                alt="Profile Picture"
                width="30"
              />
              {% else %}
              <img
                src="{{ url_for('static', filename='profile_picture/defualtpicture.png') }}"
                alt="Default Profile Picture"
                width="30"
              />
              {% endif %}
            </td>
            <td>{{ user.profile.fullname }}</td>
            <td>
              {{ user.profile.athlete_profile.gender if user.profile.athlete_profile
              else 'N/A' }}
            </td>
            <td>
              {{ user.profile.athlete_profile.college.collegename if
              user.profile.athlete_profile and user.profile.athlete_profile.college
              else 'N/A' }}
            </td>
            <td>
              {{ user.profile.athlete_profile.sportscategory if
              user.profile.athlete_profile else 'N/A' }}
            </td>
            <td>
  <a href="{{ url_for('view_athlete', user_id=user.userid) }}" class="btn btn-primary btn-sm">View</a>
<a href="{{ url_for('send_message', receiver_id=user.userid) }}" class="btn btn-secondary btn-sm">Send Message</a>
<a href="{{ url_for('send_offer', athlete_id=user.profile.athlete_profile.athleteprofileid) }}" class="btn btn-success btn-sm">Send Offer</a>
            </td>
          </tr>
          {% endif %} {% endfor %}
        </tbody>
      </table>


    </div>
  </body>
</html>









